
import type { QuizQuestion, LevelStage, AchievementDefinition, ProductMoment, Difficulty } from './types';
import { BadgeCheck, MessageCircleWarning, ShieldAlert, BellRing, CreditCard, ShieldCheck, BarChart3 } from 'lucide-svelte';

export const scorePerQuestion = 100;

export const STORAGE_KEY = 'quiz-shield-ruble-progress-v1';

export const questions: QuizQuestion[] = [
    {
      id: 1,
      category: 'SMS-фишинг',
      threat: 'Ложная блокировка карты',
      text:
        'Вы получили SMS якобы от Газпромбанка с сообщением о блокировке карты и требованием перейти по ссылке. Как поступить безопаснее всего?',
      answers: [
        'Перейти по ссылке из SMS и выполнить инструкции',
        'Игнорировать ссылку и самостоятельно позвонить в банк по официальному номеру',
        'Ответить на SMS и попросить подтверждение'
      ],
      correctAnswer: 1,
      difficulty: 'easy',
      explanation: {
        summary:
          'Официальные уведомления банка не содержат сторонних ссылок и не требуют вводить реквизиты через незнакомые формы.',
        insights: [
          'Имя отправителя и домен ссылки легко подделываются — проверяйте их напрямую в приложении банка.',
          'В SMS с угрозой блокировки всегда присутствует давление временем — это признак мошенничества.',
          'Самая безопасная реакция — связаться с банком по номеру с оборота карты или внутри приложения.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: как реагировать на подозрительные SMS',
        recommendations: [
          'Не переходите по ссылке и не отвечайте на сообщение — сохраните его для жалобы.',
          'Позвоните в банк через официальный номер и опишите ситуацию оператору.',
          'Добавьте номер отправителя в спам, чтобы не получать новые сообщения с того же канала.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Фишинговые SMS почти всегда заставляют «действовать немедленно». Спокойный тон и отсутствие давления — признак официального уведомления.'
      },
      tip: 'Опасные SMS всегда торопят и содержат подозрительные ссылки.',
      evidence: {
        type: 'sms',
        sender: 'Газпромбанк',
        timestamp: '11:42',
        message: [
          'Служба безопасности: карта заблокирована!',
          'Для подтверждения личности перейдите по ссылке:'
        ],
        link: 'gpbank-verify.ru',
        caption: 'Ссылка ведёт на поддельный сайт — адрес не принадлежит банку.',
        ariaLabel: 'SMS с предупреждением о блокировке и ссылкой gpbank-verify.ru'
      }
    },
    {
      id: 2,
      category: 'Телефонные звонки',
      threat: 'Выигрыш с предоплатой',
      text:
        'Вам звонят и сообщают о крупном выигрыше, но просят сначала оплатить «налог» в размере 3 200 ₽. Ваши действия?',
      answers: [
        'Перевести налог, чтобы не потерять приз',
        'Попросить прислать документы и дождаться подтверждения',
        'Прервать разговор и сообщить о звонке в банк'
      ],
      correctAnswer: 2,
      difficulty: 'easy',
      explanation: {
        summary:
          'Сотрудники банка не проводят розыгрыши и не требуют оплачивать «налоги» или комиссии за призы.',
        insights: [
          'Push-контроль операций показывает реальную активность по счёту — отсутствие списаний значит, что история с выигрышем выдумана.',
          'Запрос назвать номер карты, CVV или SMS-код — прямое нарушение банковских правил.',
          'Правильный алгоритм — немедленно прекратить разговор и связаться с банком самостоятельно.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: что делать при сомнительном звонке',
        recommendations: [
          'Не продолжайте диалог — вежливо завершите разговор и положите трубку.',
          'Проверьте последние операции в приложении и перезвоните в банк по официальному номеру.',
          'Запишите номер и время звонка и передайте информацию оператору банка.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Push-уведомления банка появляются мгновенно — они надёжнее любого рассказа «сотрудника» по телефону.'
      },
      relatedProduct: {
        name: 'Push-контроль операций',
        description: 'Моментально уведомляет о каждой операции по карте и счёту прямо в приложении.',
        highlight: 'Сверяйте push до принятия решений — мошенники часто не знают про активные уведомления.'
      },
      tip: 'Мошенники часто представляются сотрудниками банка и требуют деньги «для проверки».',
      evidence: {
        type: 'call',
        caller: 'Служба безопасности',
        phone: '+7 (495) 123-45-67',
        riskNote: 'Требуют оплату «налога»',
        script: [
          '— Вы выиграли 1 000 000 ₽, нужно только оплатить налог.',
          '— Переведите 3 200 ₽ на указанный счёт прямо сейчас.',
          '— Для подтверждения назовите номер карты и CVV.'
        ],
        caption: 'Типичный сценарий телефонного мошенничества с предоплатой.',
        ariaLabel: 'Экран звонка с требованием оплатить налог за «выигрыш»'
      }
    },
    {
      id: 3,
      category: 'Фишинговые сайты',
      threat: 'Поддельная страница оплаты',
      text:
        'Вы открыли ссылку из письма: страница выглядит как интернет-банк и требует ввести все реквизиты карты. Как поступить безопасно?',
      answers: [
        'Заполнить форму, чтобы быстрее вернуть доступ',
        'Проверить адрес и закрыть страницу, если домен подозрительный',
        'Перезагрузить страницу и попробовать снова'
      ],
      correctAnswer: 1,
      difficulty: 'medium',
      explanation: {
        summary:
          'Поддельные страницы имитируют дизайн банка, но выдают себя доменом и отсутствием защищённого соединения.',
        insights: [
          'Настоящие сервисы банка используют домен gpb.ru и защищённый протокол https с закрытым замком.',
          'Виртуальная карта создаётся и управляется только в приложении банка — подключение через сторонние формы опасно.',
          'Если сомневаетесь в источнике письма, откройте интернет-банк вручную, а не по ссылке.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: проверяем страницы оплаты',
        recommendations: [
          'Всегда сверяйте домен в адресной строке с закладкой на официальный сайт.',
          'Нажмите на замок в браузере и изучите сертификат — он должен быть выдан Газпромбанку.',
          'Используйте отдельную виртуальную карту для онлайн-платежей, чтобы снизить риск утечки.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Виртуальная карта помогает изолировать риски — её можно моментально заморозить и задать лимит для сомнительных сайтов.'
      },
      relatedProduct: {
        name: 'Виртуальная карта для онлайн-покупок',
        description: 'Отдельные реквизиты для интернет-платежей, которые легко заморозить или заменить.',
        highlight: 'Оформляйте и управляйте виртуальной картой только в приложении Газпромбанка.'
      },
      tip: 'Всегда проверяйте домен и управляйте виртуальными картами только в приложении банка.',
      evidence: {
        type: 'website',
        url: 'gazprombank-secure-pay.ru',
        isSecure: false,
        title: 'Подтвердите отмену блокировки',
        prompts: [
          'Введите номер карты полностью',
          'Укажите срок действия и CVV',
          'Подтвердите одноразовый код'
        ],
        warning: 'Нет замка в адресной строке, домен отличается от официального.',
        caption: 'Адрес сайта выдает мошенников — это не домен Газпромбанка.',
        ariaLabel: 'Фальшивая страница оплаты с требованием реквизитов карты'
      }
    },
    {
      id: 4,
      category: 'Банкоматы',
      threat: 'Вмешательство в устройство',
      text:
        'У банкомата, которым вы собирались воспользоваться, слот для карт кажется перекрытым накладкой, а рядом мигает сторонний датчик. Ваши действия?',
      answers: [
        'Продолжить операцию — времени мало',
        'Прервать операцию, выбрать другой банкомат и сообщить в банк',
        'Попросить прохожего помочь вставить карту'
      ],
      correctAnswer: 1,
      difficulty: 'medium',
      explanation: {
        summary:
          'Лишние накладки, камеры или датчики на банкомате указывают на попытку скимминга и требуют немедленного прекращения операции.',
        insights: [
          'Скиммеры собирают данные карты и PIN с помощью накладок и скрытых камер.',
          'При малейших сомнениях используйте другой банкомат, лучше внутри отделения.',
          'Сообщение в банк помогает оперативно заблокировать устройство и предупредить других клиентов.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: безопасно пользуемся банкоматом',
        recommendations: [
          'Перед операцией осматривайте слот, клавиатуру и панель на предмет люфта или следов клея.',
          'Прикрывайте клавиатуру рукой, даже если картоприемник выглядит безопасно.',
          'Не стесняйтесь отменить операцию и позвонить в банк, если что-то смущает.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Банкоматы в людных местах под видеонаблюдением и внутри отделений реже подвергаются скиммингу.'
      },
      tip: 'Неровные панели, накладки и скрытые камеры — признаки скимминга.',
      evidence: {
        type: 'atm',
        location: 'ТЦ «Океан»',
        status: 'Есть вмешательство',
        anomalies: [
          'Слот для карт закрыт пластиковой накладкой',
          'Над клавиатурой закреплён сторонний кожух',
          'Мигает незнакомый датчик рядом с экраном'
        ],
        caption: 'Любые накладки на банкомате — повод отказаться от операции.',
        ariaLabel: 'Банкомат с накладкой на слоте и посторонним оборудованием'
      }
    },
    {
      id: 5,
      category: 'Мобильные приложения',
      threat: 'Фальшивое обновление',
      text:
        'В стороннем приложении на телефоне появляется окно «обновления службы безопасности Газпромбанка», которое просит отключить защиту и ввести PIN. Что делать?',
      answers: [
        'Следовать инструкциям окна и отключить защиту',
        'Закрыть окно и проверять обновления только в официальном магазине приложений',
        'Отправить PIN «сотруднику» для проверки'
      ],
      correctAnswer: 1,
      difficulty: 'hard',
      explanation: {
        summary:
          'Настоящие обновления приходят только из App Store или Google Play и не требуют отключать защиту или вводить PIN в сторонних окнах.',
        insights: [
          'Всплывающие окна в сторонних приложениях не имеют доступа к служебным функциям банка — это приманка мошенников.',
          'Банк никогда не попросит отключить защиту устройства или повторно ввести PIN вне официального приложения.',
          'Если окно возникло само, удалите подозрительное приложение и просканируйте устройство антивирусом.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: контроль обновлений приложения',
        recommendations: [
          'Проверяйте наличие обновлений только в официальном магазине приложений.',
          'Включите многофакторную аутентификацию и биометрию — это усложнит доступ злоумышленникам.',
          'Регулярно просматривайте список установленных приложений и удаляйте лишние.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Вредоносные приложения часто маскируются под расширения безопасности и появляются после установки со сторонних сайтов.'
      },
      tip: 'Проверяйте источник обновлений и не вводите данные в всплывающих окнах сторонних приложений.',
      evidence: {
        type: 'app',
        title: 'Security Update',
        prompt: 'Подключите расширение «Антифрод» к аккаунту',
        actions: ['Отключить «Безопасный вход»', 'Ввести PIN-код повторно'],
        warning: 'Запрос появился вне официального приложения — это фишинг.',
        caption: 'Окно маскируется под обновление, но просит отключить защиту.',
        ariaLabel: 'Фальшивое окно обновления, требующее отключить защиту и ввести PIN'
      }
    },
    {
      id: 6,
      category: 'Социальная инженерия',
      threat: 'Запрос одноразового кода',
      text:
        'В мессенджере пишет «сотрудник банка» и требует код из SMS «для проверки безопасности счёта». Как правильно реагировать?',
      answers: [
        'Отправить код, чтобы не потерять деньги',
        'Переслать сообщение друзьям и спросить, что делать',
        'Не передавать код и связаться с банком через официальные каналы'
      ],
      correctAnswer: 2,
      difficulty: 'hard',
      explanation: {
        summary:
          'Одноразовые коды — завершающий этап подтверждения операций. Передача кода равносильна согласию на перевод.',
        insights: [
          'Настоящие сотрудники банка не пишут в мессенджерах и не запрашивают коды из SMS.',
          'Страхование карт и счетов подключается и управляется только в приложении — для него не нужно «подтверждать» коды из чатов.',
          'После отказа сообщите о попытке мошенничества в банк, чтобы заблокировать канал.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: охраняем одноразовые коды',
        recommendations: [
          'Никогда не пересылайте проверочные коды и push-уведомления третьим лицам.',
          'Проверьте статус страховки и операции прямо в приложении, нажав на push-уведомление.',
          'Если код всё же отправили — немедленно позвоните в банк и заблокируйте операции.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Страхование карт и счетов покрывает убытки при мошенничестве, если сразу сообщить в банк — передачи кодов страховка не требует.'
      },
      relatedProduct: {
        name: 'Страхование карт и счетов',
        description: 'Программа покрывает несанкционированные операции и помогает вернуть деньги при подтверждённом мошенничестве.',
        highlight: 'Активируйте и управляйте страховкой только через приложение Газпромбанка без сторонних «кураторов».'
      },
      tip: 'Сотрудники банка не запрашивают коды из SMS и push-уведомлений — даже для проверки страховки.',
      evidence: {
        type: 'social',
        platform: 'Messenger',
        contact: 'Куратор безопасности',
        messages: [
          { text: 'Мы заметили подозрительную операцию. Пришлите код из SMS для отмены.', highlight: true },
          { fromBank: true, text: 'Коды не передаю. Свяжусь с банком самостоятельно.' }
        ],
        caption: 'Сообщение от «куратора» просит код — прямой признак мошенничества.',
        ariaLabel: 'Переписка в мессенджере с запросом кода из SMS'
      }
    },
    {
      id: 7,
      category: 'Общественные сети',
      threat: 'Поддельный портал Wi‑Fi',
      text:
        'В общественной сети Wi‑Fi всплыла страница авторизации с просьбой ввести данные банковской карты «для подтверждения личности». Как действовать?',
      answers: [
        'Ввести данные карты — иначе не подключиться к сети',
        'Закрыть страницу и использовать мобильный интернет или VPN',
        'Сообщить данные частями: сначала номер, потом CVV'
      ],
      correctAnswer: 1,
      difficulty: 'hard',
      explanation: {
        summary:
          'Открытые сети Wi‑Fi не имеют отношения к банку и не требуют вводить реквизиты карт или коды подтверждения.',
        insights: [
          'Злоумышленники перехватывают данные в незашифрованных сетях и используют фальшивые порталы.',
          'Для авторизации в общедоступных сетях достаточно принять условия использования — реквизиты не нужны.',
          'Лучше перейти на мобильный интернет или VPN, если сайт требует конфиденциальные данные.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: безопасный доступ к Wi‑Fi',
        recommendations: [
          'Не вводите платежные данные в общественных сетях — используйте мобильную связь для финансовых операций.',
          'Включайте VPN, если необходимо использовать публичный Wi‑Fi для работы с чувствительной информацией.',
          'Удаляйте сохранённые публичные сети, чтобы телефон не подключался к ним автоматически.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Поддельные порталы часто копируют логотип банка, но адрес сайта и сертификат принадлежат сторонним компаниям.'
      },
      tip: 'Для банковских операций используйте защищённые сети или мобильный интернет.',
      evidence: {
        type: 'website',
        url: 'freewifi-login.net',
        isSecure: false,
        title: 'Подтвердите личность для доступа',
        prompts: [
          'Введите номер карты Газпромбанка',
          'Укажите срок действия и CVV',
          'Внесите SMS-код подтверждения'
        ],
        warning: 'Запрос банковских реквизитов — признак мошеннического портала.',
        caption: 'Поддельный портал Wi‑Fi собирает реквизиты карты.',
        ariaLabel: 'Страница Wi-Fi с формой для ввода реквизитов карты'
      }
    },
    {
      id: 8,
      category: 'Email-фишинг',
      threat: 'Поддельное письмо от банка',
      text:
        'Вы получили письмо от bank-security@gpb-secure.com с требованием подтвердить личность, перейдя по ссылке. Что делать?',
      answers: [
        'Перейти по ссылке и ввести данные',
        'Проверить адрес отправителя и удалить письмо, если он подозрительный',
        'Ответить на письмо с просьбой подтвердить законность запроса'
      ],
      correctAnswer: 1,
      difficulty: 'easy',
      explanation: {
        summary:
          'Официальные письма Газпромбанка приходят только с домена @gazprombank.ru и не содержат ссылок для ввода реквизитов.',
        insights: [
          'Адрес отправителя легко подделать — проверяйте домен после символа @.',
          'Банк никогда не запрашивает полные реквизиты карты через email.',
          'При малейших сомнениях откройте приложение банка напрямую, минуя ссылки из писем.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: проверка email от банка',
        recommendations: [
          'Проверьте полный адрес отправителя — официальные письма только с @gazprombank.ru.',
          'Наведите на ссылку (не нажимая) и проверьте URL в нижнем углу браузера.',
          'Сохраните письмо и сообщите в банк о подозрительной активности.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Более 90% фишинговых атак начинаются с поддельных email. Проверка отправителя — первая линия защиты.'
      },
      tip: 'Всегда проверяйте домен отправителя — официальные письма только с @gazprombank.ru.',
      evidence: {
        type: 'sms',
        sender: 'bank-security@gpb-secure.com',
        timestamp: '14:23',
        message: [
          'Уважаемый клиент!',
          'Обнаружена подозрительная активность. Подтвердите личность:'
        ],
        link: 'gpb-secure.com/verify',
        caption: 'Домен отправителя не принадлежит Газпромбанку.',
        ariaLabel: 'Email с подозрительным адресом отправителя'
      }
    },
    {
      id: 9,
      category: 'QR-коды',
      threat: 'Поддельный QR-код для оплаты',
      text:
        'В кафе на столике наклеен QR-код «для оплаты и чаевых». При сканировании открывается форма с запросом полных реквизитов карты. Ваши действия?',
      answers: [
        'Заполнить форму и оплатить заказ',
        'Не вводить данные и оплатить через официанта или терминал',
        'Ввести только номер карты без CVV'
      ],
      correctAnswer: 1,
      difficulty: 'medium',
      explanation: {
        summary:
          'Легитимные QR-коды для оплаты открывают платежные системы банков, которые не требуют ввода полных реквизитов.',
        insights: [
          'QR-код может вести на любой сайт — мошенники подменяют официальные наклейки своими.',
          'Нормальная оплата через QR использует Apple Pay, Google Pay или СБП без ввода реквизитов.',
          'Если форма просит CVV и срок действия — это точно мошенничество.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: безопасное использование QR-кодов',
        recommendations: [
          'Проверяйте URL после сканирования — он должен принадлежать известному платежному сервису.',
          'Используйте виртуальную карту для онлайн-оплат через QR-коды.',
          'При подозрениях оплачивайте традиционным способом через терминал.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Мошенники часто наклеивают свои QR-коды поверх легитимных в людных местах. Всегда проверяйте URL перед вводом данных.'
      },
      tip: 'Легитимные QR-коды для оплаты не требуют ввода CVV и полных реквизитов карты.',
      evidence: {
        type: 'website',
        url: 'pay-tip.online/cafe127',
        isSecure: false,
        title: 'Оплата заказа',
        prompts: [
          'Введите номер карты',
          'Укажите CVV и срок действия',
          'Введите сумму чаевых'
        ],
        warning: 'Легитимная оплата через QR не требует ввода CVV.',
        caption: 'QR-код ведет на подозрительный сайт, запрашивающий полные реквизиты.',
        ariaLabel: 'Форма оплаты через QR-код с запросом CVV'
      }
    },
    {
      id: 10,
      category: 'Поддельные приложения',
      threat: 'Фальшивое приложение банка',
      text:
        'В магазине приложений вы нашли «Газпромбанк Онлайн Про» с логотипом банка, но у него всего 45 отзывов. Официальное приложение найти не удалось. Что делать?',
      answers: [
        'Установить найденное приложение — логотип совпадает',
        'Найти приложение на официальном сайте банка или позвонить в поддержку',
        'Попросить друга скинуть ссылку на приложение'
      ],
      correctAnswer: 1,
      difficulty: 'medium',
      explanation: {
        summary:
          'Мошенники создают поддельные приложения с похожими названиями и логотипами для кражи данных.',
        insights: [
          'Официальные приложения банков имеют тысячи отзывов и подтвержденного разработчика.',
          'Фальшивые приложения часто добавляют слова «Про», «Премиум» или «Плюс» к названию.',
          'Лучший способ найти официальное приложение — перейти по ссылке с сайта банка.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: установка банковских приложений',
        recommendations: [
          'Устанавливайте приложения только по ссылкам с официального сайта банка.',
          'Проверяйте имя разработчика — оно должно совпадать с названием банка.',
          'Обращайте внимание на количество установок и отзывов — у официальных приложений их тысячи.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'В 2024 году из магазинов приложений удалено более 2000 поддельных банковских приложений. Всегда проверяйте разработчика.'
      },
      tip: 'Устанавливайте банковские приложения только по ссылкам с официального сайта банка.',
      evidence: {
        type: 'app',
        title: 'Газпромбанк Онлайн Про',
        prompt: 'Усиленная защита для премиум-клиентов',
        actions: ['Разработчик: GPB Solutions', 'Отзывов: 45', 'Установок: 1000+'],
        warning: 'Малое количество отзывов и неизвестный разработчик — признаки подделки.',
        caption: 'Поддельное приложение маскируется под официальное.',
        ariaLabel: 'Страница поддельного приложения банка в магазине'
      }
    },
    {
      id: 11,
      category: 'Инвестиционное мошенничество',
      threat: 'Ложная инвестиционная схема',
      text:
        'В социальных сетях вам предлагают «уникальную инвестиционную возможность от партнёра Газпромбанка» с гарантированной доходностью 50% в месяц. Ваши действия?',
      answers: [
        'Инвестировать небольшую сумму для проверки',
        'Проверить информацию на сайте банка и отказаться, если данных нет',
        'Попросить реквизиты компании для перевода средств'
      ],
      correctAnswer: 1,
      difficulty: 'hard',
      explanation: {
        summary:
          'Гарантированная высокая доходность — главный признак финансовой пирамиды. Банки не гарантируют доходность инвестиций.',
        insights: [
          'Легальные инвестиционные продукты не обещают гарантированную доходность выше ключевой ставки ЦБ.',
          'Банки публикуют список партнёров на официальном сайте — всё остальное мошенничество.',
          'Обещание «быстрых денег» всегда должно вызывать подозрения.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: проверка инвестиционных предложений',
        recommendations: [
          'Проверяйте лицензии компании на сайте Центрального Банка.',
          'Изучайте список официальных партнёров на сайте банка.',
          'Помните: чем выше обещанная доходность, тем выше риск потерять всё.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Ключевая ставка ЦБ РФ — ориентир для безопасной доходности. Всё, что выше в 2-3 раза — повышенный риск или обман.'
      },
      relatedProduct: {
        name: 'Инвестиционные продукты Газпромбанка',
        description: 'Официальные инвестиционные решения с прозрачными условиями и лицензией ЦБ.',
        highlight: 'Все инвестиционные продукты банка доступны в приложении с полным раскрытием рисков.'
      },
      tip: 'Гарантированная высокая доходность — признак финансовой пирамиды.',
      evidence: {
        type: 'social',
        platform: 'Social Network',
        contact: 'Инвестиционный советник',
        messages: [
          { text: '🚀 Эксклюзив от партнёра Газпромбанка!', highlight: true },
          { text: '💰 50% в месяц гарантированно', highlight: true },
          { text: '⚡️ Первые 24 часа — бонус 10%' }
        ],
        caption: 'Обещания нереалистичной доходности — признак мошенничества.',
        ariaLabel: 'Сообщение в соцсети с предложением высокой доходности'
      }
    },
    {
      id: 12,
      category: 'Удалённый доступ',
      threat: 'Запрос установки приложения удалённого доступа',
      text:
        'Вам звонит «сотрудник банка» и просит установить приложение AnyDesk «для проверки безопасности счёта». Как поступить?',
      answers: [
        'Установить приложение и следовать инструкциям',
        'Попросить подождать и перезвонить в банк самостоятельно',
        'Согласиться, но не давать доступ к банковскому приложению'
      ],
      correctAnswer: 1,
      difficulty: 'hard',
      explanation: {
        summary:
          'Сотрудники банка никогда не просят устанавливать приложения удалённого доступа. Это распространённая схема мошенничества.',
        insights: [
          'Приложения удалённого доступа (AnyDesk, TeamViewer) дают полный контроль над вашим телефоном.',
          'Мошенники используют удалённый доступ для кражи данных и совершения переводов от вашего имени.',
          'Банк решает все вопросы безопасности через официальное приложение или в отделении.'
        ]
      },
      expertAdvice: {
        title: 'Совет эксперта: защита от удалённого доступа',
        recommendations: [
          'Никогда не устанавливайте приложения удалённого доступа по просьбе «сотрудников банка».',
          'Прервите разговор и перезвоните в банк по номеру с официального сайта.',
          'Если случайно установили — немедленно удалите приложение и измените все пароли.'
        ]
      },
      microLesson: {
        title: 'Факт по безопасности',
        fact: 'Приложения удалённого доступа позволяют мошенникам видеть экран, вводить пароли и совершать операции от вашего имени.'
      },
      tip: 'Банк никогда не просит устанавливать приложения удалённого доступа.',
      evidence: {
        type: 'call',
        caller: 'Служба безопасности',
        phone: '+7 (495) 987-65-43',
        riskNote: 'Требуют установить AnyDesk',
        script: [
          '— На вашем счёте обнаружена подозрительная активность.',
          '— Для проверки установите приложение AnyDesk.',
          '— Назовите код из приложения для подключения.'
        ],
        caption: 'Запрос установки удалённого доступа — 100% мошенничество.',
        ariaLabel: 'Звонок с требованием установить приложение удалённого доступа'
      }
    }
  ];

export const levelStages: LevelStage[] = [
    {
      id: 'novice',
      name: 'Новичок',
      minXp: 0,
      description: 'Начальный уровень: вы знакомитесь с типовыми сценариями мошенничества.'
    },
    {
      id: 'analyst',
      name: 'Аналитик защиты',
      minXp: 200,
      description: 'Вы уверенно отличаете легитимные запросы от подозрительных и знаете основные приёмы защиты.'
    },
    {
      id: 'guardian',
      name: 'Страж финансов',
      minXp: 450,
      description: 'Вы системно обезвреживаете угрозы и подсказываете другим, как реагировать безопасно.'
    },
    {
      id: 'cyber-detective',
      name: 'Кибер-детектив',
      minXp: 700,
      description: 'Вы распознаёте атаки на лету и используете инструменты банка как профессионал.'
    }
  ];

export const achievementDefinitions: AchievementDefinition[] = [
    {
      id: 'fraud-detective',
      title: 'Детектив мошенничества',
      description: 'Пройдите тренировку без единой ошибки и наберите 100% точности.',
      icon: BadgeCheck,
      condition: ({ session }) => session.accuracy === 100,
      progressHint: ({ progress }) => `${progress.bestAccuracy}% лучшая точность`
    },
    {
      id: 'sms-expert',
      title: 'Эксперт по SMS',
      description: 'Безошибочно распознайте SMS-атаки в трёх сессиях подряд.',
      icon: MessageCircleWarning,
      condition: ({ progress }) => (progress.categoryStats['SMS-фишинг']?.bestStreak ?? 0) >= 3,
      progressHint: ({ progress }) => {
        const streak = progress.categoryStats['SMS-фишинг']?.currentStreak ?? 0;
        return `Текущая серия по SMS: ${Math.min(streak, 3)}/3`;
      }
    },
    {
      id: 'atm-guardian',
      title: 'Защитник банкоматов',
      description: 'Замечайте вмешательства в банкоматах в трёх сессиях подряд.',
      icon: ShieldAlert,
      condition: ({ progress }) => (progress.categoryStats['Банкоматы']?.bestStreak ?? 0) >= 3,
      progressHint: ({ progress }) => {
        const streak = progress.categoryStats['Банкоматы']?.currentStreak ?? 0;
        return `Текущая серия по банкоматам: ${Math.min(streak, 3)}/3`;
      }
    }
  ];

export const productMoments: ProductMoment[] = [
    {
      id: 'push-control',
      triggerQuestionId: 2,
      name: 'Push-контроль операций',
      tagline: 'Держите руку на пульсе счёта',
      description: 'Получайте мгновенные push-уведомления о списаниях и подтверждайте операции в один тап.',
      features: [
        'Моментально узнаёте о каждой операции по карте и счёту',
        'Встроенная кнопка «Это не я» для быстрого отклонения транзакций',
        'Работает даже в роуминге и без звонка оператору'
      ],
      bonusLabel: 'Бонус к защите',
      bonusValue: 25,
      icon: BellRing,
      contextLabel: 'После сценария «Телефонные звонки»'
    },
    {
      id: 'virtual-card',
      triggerQuestionId: 3,
      name: 'Виртуальная карта для онлайн-покупок',
      tagline: 'Отдельный слой безопасности',
      description: 'Создайте карту специально для интернета и управляйте лимитами в пару касаний.',
      features: [
        'Отдельные реквизиты не раскрывают данные основной карты',
        'Задавайте лимит на покупки и срок действия для редких оплат',
        'Замораживайте карту одной кнопкой при подозрении на мошенничество'
      ],
      bonusLabel: 'Бонус к защите',
      bonusValue: 35,
      icon: CreditCard,
      contextLabel: 'После сценария «Фишинговые сайты»'
    },
    {
      id: 'card-insurance',
      triggerQuestionId: 6,
      name: 'Страхование карт и счетов',
      tagline: 'Финансовый щит 24/7',
      description: 'Программа покрывает ущерб при мошеннических списаниях и помогает быстро вернуть средства.',
      features: [
        'Защита карт, счетов и мобильного банка от несанкционированных операций',
        'Поддержка специалистов и помощь в оспаривании транзакций',
        'Компенсация при подтверждённом мошенничестве'
      ],
      bonusLabel: 'Бонус к защите',
      bonusValue: 50,
      icon: ShieldCheck,
      contextLabel: 'После сценария «Социальная инженерия»',
      cta: {
        label: 'Узнать о страховке',
        href: 'https://www.gazprombank.ru/personal/insurance/insurance_cards/',
        external: true
      }
    },
    {
      id: 'credit-rating',
      triggerQuestionId: 4,
      name: 'Кредитный рейтинг и мониторинг',
      tagline: 'Контролируйте свою кредитную историю',
      description: 'Отслеживайте кредитный рейтинг и получайте уведомления о новых кредитах, оформленных на ваше имя.',
      features: [
        'Бесплатная проверка кредитного рейтинга в приложении',
        'Уведомления о новых кредитах и займах',
        'Помощь в обнаружении мошеннических кредитов'
      ],
      bonusLabel: 'Бонус к защите',
      bonusValue: 30,
      icon: BarChart3,
      contextLabel: 'После сценария «Банкоматы»',
      cta: {
        label: 'Проверить рейтинг',
        href: 'https://www.gazprombank.ru/personal/credit-profile/',
        external: true
      }
    },
    {
      id: 'mobile-app-security',
      triggerQuestionId: 5,
      name: 'Биометрическая защита приложения',
      tagline: 'Ваше лицо — ваш пароль',
      description: 'Защитите мобильное приложение банка с помощью Face ID, Touch ID или отпечатка пальца.',
      features: [
        'Быстрый вход без ввода пароля',
        'Надежная защита от несанкционированного доступа',
        'Автоблокировка при попытках взлома'
      ],
      bonusLabel: 'Бонус к защите',
      bonusValue: 40,
      icon: ShieldAlert,
      contextLabel: 'После сценария «Мобильные приложения»'
    },
    {
      id: 'secure-wifi',
      triggerQuestionId: 7,
      name: 'Безопасность в публичных сетях',
      tagline: 'Защита при любом подключении',
      description: 'Используйте виртуальную карту и дополнительную аутентификацию при работе в общественных Wi-Fi.',
      features: [
        'Рекомендации по безопасному использованию публичных сетей',
        'Виртуальная карта для онлайн-операций',
        'Обязательное подтверждение операций через SMS'
      ],
      bonusLabel: 'Бонус к защите',
      bonusValue: 35,
      icon: MessageCircleWarning,
      contextLabel: 'После сценария «Общественные сети»'
    },
    {
      id: 'email-security',
      triggerQuestionId: 8,
      name: 'Защита от фишинга',
      tagline: 'Распознавайте поддельные письма',
      description: 'Обучение распознаванию фишинговых email и SMS с встроенными инструментами проверки.',
      features: [
        'Автоматическая проверка ссылок из email перед переходом',
        'База известных фишинговых доменов',
        'Уведомления о подозрительных письмах от имени банка'
      ],
      bonusLabel: 'Бонус к защите',
      bonusValue: 30,
      icon: MessageCircleWarning,
      contextLabel: 'После сценария «Email-фишинг»'
    },
    {
      id: 'fraud-alert',
      triggerQuestionId: 12,
      name: 'Антифрод-алерты',
      tagline: 'Мгновенная блокировка подозрительных операций',
      description: 'Система умного анализа операций с автоматической блокировкой подозрительной активности.',
      features: [
        'Анализ операций в режиме реального времени',
        'Автоматическая блокировка подозрительных переводов',
        'Мгновенные уведомления о попытках несанкционированного доступа'
      ],
      bonusLabel: 'Бонус к защите',
      bonusValue: 45,
      icon: ShieldAlert,
      contextLabel: 'После сценария «Удалённый доступ»'
    }
  ];

export const difficultyLabels: Record<Difficulty, string> = {
    easy: 'Базовый уровень',
    medium: 'Продвинутый уровень',
    hard: 'Экспертный уровень'
  };

export const difficultyOrder: Difficulty[] = ['easy', 'medium', 'hard'];
